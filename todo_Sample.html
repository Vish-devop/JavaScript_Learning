<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo List</title>
</head>
<body>
    <h1 style="background-color: aquamarine;"><center>My ToDo List</center></h1>
    Enter your todo to add in your list: 
    <input type="text" id="textValue" placeholder="Enter your todo">
    <button id="add">Add</button>
    <br>
    <h3 style="color: brown;">Items in your list:</h3>
    <ol id="list"></ol>
    <script>
        var textField=document.querySelector("#textValue");
        
        var addToList=document.querySelector("#list");
        var add=document.querySelector("#add");
        var saveArray=[];

        let restore=JSON.parse(localStorage.getItem("saveArray"));
        
        if(restore)
    {
        saveArray=restore;
        restoreList();
    }

function restoreList()
{
    //addToList.appendChild(addNew);
    for (let i = 0; i <saveArray.length; i++) {
    addNew=document.createElement("li");
    addNew.textContent += saveArray[i];
    console.log("save array[i]", saveArray[i]);

    //delete already created array values
    if(!saveArray)
    {
        saveArray.splice(i,1);
        console.log("deleying", saveArray)
        localStorage.setItem("saveArray", JSON.stringify(saveArray));
    }
    addToList.appendChild(addNew);
    localStorage.setItem("saveArray", JSON.stringify(saveArray));
    console.log("Entire array", saveArray);
}
}

//add tasks to the list
add.addEventListener("click", ()=>{        
    //create new element
    //addList.innerHTML=textField.value;

    //add to the list
    //addToList.appendChild(addList);
    
    //store values in array
    saveArray.push(textField.value);
    console.log(saveArray);

    //store in local storage
    localStorage.setItem("saveArray", JSON.stringify(saveArray));

    //make input field empty
    textField.value=" ";
    restoreList();
});
</script>
</body>
</html>